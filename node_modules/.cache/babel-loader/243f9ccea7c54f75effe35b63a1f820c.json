{"ast":null,"code":"var _jsxFileName = \"/root/tesis/gps/src/pages/EditDevicePage.js\";\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { toast } from 'react-toastify';\nfunction EditDevicePage() {\n  const {\n    deviceId\n  } = useParams();\n  const navigate = useNavigate();\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [formData, setFormData] = useState({\n    device_name: '',\n    phone_number: '',\n    reg_no: ''\n  });\n  useEffect(() => {\n    fetchDevice();\n  }, [deviceId]);\n  const fetchDevice = async () => {\n    try {\n      const response = await axios.get(`http://localhost:3013/api/devices/${deviceId}`);\n      const deviceData = response.data.data;\n      setFormData({\n        device_name: deviceData.device_name,\n        phone_number: deviceData.phone_number,\n        reg_no: deviceData.reg_no\n      });\n      setLoading(false);\n    } catch (err) {\n      console.error('Error fetching device:', err);\n      setError(err.message);\n      setLoading(false);\n    }\n  };\n  const handleChange = e => {\n    setFormData({\n      ...formData,\n      [e.target.name]: e.target.value\n    });\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    try {\n      await axios.put(`http://localhost:3013/api/devices/${deviceId}`, formData);\n      toast.success('Device updated successfully!');\n      navigate('/vehicles');\n    } catch (err) {\n      console.error('Error updating device:', err);\n      toast.error(err.message || 'Failed to update device');\n      setError(err.message);\n    }\n  };\n  if (loading) return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 23\n    }\n  }, \"Loading...\");\n  if (error) return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 21\n    }\n  }, \"Error: \", error);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container mt-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }\n  }, \"Edit Device\"), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"form-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 11\n    }\n  }, \"Device Name\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"form-control\",\n    name: \"device_name\",\n    value: formData.device_name,\n    onChange: handleChange,\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"form-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 11\n    }\n  }, \"Phone Number\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"form-control\",\n    name: \"phone_number\",\n    value: formData.phone_number,\n    onChange: handleChange,\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"form-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 11\n    }\n  }, \"Registration Number\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"form-control\",\n    name: \"reg_no\",\n    value: formData.reg_no,\n    onChange: handleChange,\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    className: \"btn btn-primary me-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 11\n    }\n  }, \"Update Device\"), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    className: \"btn btn-secondary\",\n    onClick: () => navigate('/vehicles'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 11\n    }\n  }, \"Cancel\"))));\n}\nexport default EditDevicePage;","map":{"version":3,"names":["React","useState","useEffect","axios","useParams","useNavigate","toast","EditDevicePage","deviceId","navigate","loading","setLoading","error","setError","formData","setFormData","device_name","phone_number","reg_no","fetchDevice","response","get","deviceData","data","err","console","message","handleChange","e","target","name","value","handleSubmit","preventDefault","put","success","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","className","onSubmit","type","onChange","required","onClick"],"sources":["/root/tesis/gps/src/pages/EditDevicePage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { toast } from 'react-toastify';\n\nfunction EditDevicePage() {\n  const { deviceId } = useParams();\n  const navigate = useNavigate();\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [formData, setFormData] = useState({\n    device_name: '',\n    phone_number: '',\n    reg_no: ''\n  });\n\n  useEffect(() => {\n    fetchDevice();\n  }, [deviceId]);\n\n  const fetchDevice = async () => {\n    try {\n      const response = await axios.get(`http://localhost:3013/api/devices/${deviceId}`);\n      const deviceData = response.data.data;\n      setFormData({\n        device_name: deviceData.device_name,\n        phone_number: deviceData.phone_number,\n        reg_no: deviceData.reg_no\n      });\n      setLoading(false);\n    } catch (err) {\n      console.error('Error fetching device:', err);\n      setError(err.message);\n      setLoading(false);\n    }\n  };\n\n  const handleChange = (e) => {\n    setFormData({\n      ...formData,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    try {\n      await axios.put(`http://localhost:3013/api/devices/${deviceId}`, formData);\n      toast.success('Device updated successfully!');\n      navigate('/vehicles');\n    } catch (err) {\n      console.error('Error updating device:', err);\n      toast.error(err.message || 'Failed to update device');\n      setError(err.message);\n    }\n  };\n\n  if (loading) return <div>Loading...</div>;\n  if (error) return <div>Error: {error}</div>;\n\n  return (\n    <div className=\"container mt-4\">\n      <h2>Edit Device</h2>\n      <form onSubmit={handleSubmit}>\n        <div className=\"mb-3\">\n          <label className=\"form-label\">Device Name</label>\n          <input\n            type=\"text\"\n            className=\"form-control\"\n            name=\"device_name\"\n            value={formData.device_name}\n            onChange={handleChange}\n            required\n          />\n        </div>\n        \n        <div className=\"mb-3\">\n          <label className=\"form-label\">Phone Number</label>\n          <input\n            type=\"text\"\n            className=\"form-control\"\n            name=\"phone_number\"\n            value={formData.phone_number}\n            onChange={handleChange}\n            required\n          />\n        </div>\n\n        <div className=\"mb-3\">\n          <label className=\"form-label\">Registration Number</label>\n          <input\n            type=\"text\"\n            className=\"form-control\"\n            name=\"reg_no\"\n            value={formData.reg_no}\n            onChange={handleChange}\n            required\n          />\n        </div>\n\n        <div className=\"mb-3\">\n          <button type=\"submit\" className=\"btn btn-primary me-2\">\n            Update Device\n          </button>\n          <button \n            type=\"button\" \n            className=\"btn btn-secondary\"\n            onClick={() => navigate('/vehicles')}\n          >\n            Cancel\n          </button>\n        </div>\n      </form>\n    </div>\n  );\n}\n\nexport default EditDevicePage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}